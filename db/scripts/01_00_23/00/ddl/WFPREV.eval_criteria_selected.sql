/* ---------------------------------------------------- */
/*  Generated by Enterprise Architect Version 12.0 		*/
/*  Created On : 25-Jun-2025 3:35:24 PM 				*/
/*  DBMS       : PostgreSQL 						*/
/* ---------------------------------------------------- */

/* Create Tables */

CREATE TABLE "wfprev"."eval_criteria_selected"
(
	"eval_criteria_selected_guid" UUID NOT NULL,    -- eval_criteria_selected_guid is a unique identifier for the record.
	"evaluation_criteria_guid" UUID NOT NULL,    -- evaluation_criteria_guid: Is a foreign key to evaluation_criteria: 
	"eval_criteria_sect_summ_guid" UUID NOT NULL,    -- eval_criteria_sect_summ_guid: Is a foreign key to eval_criteria_sect_summ: Evaluation Criteria Section Summary is a summary of details for a evaluation criteria section, such as the total scores for the section.
	"evaluation_criteria_select_ind" boolean NOT NULL DEFAULT 'N',    -- Evaluation Criteria Selected Ind indicates whether the criteria mapped to the project evaluation criteria is selected (Y) or not (N).  If true then the weighted rank of the criteria will count against the filter score.  If false then a value of 0 will be counted against the filter score.
	"revision_count" decimal(10) NOT NULL DEFAULT 0,    -- REVISION_COUNT is the number of times that the row of data has been changed. The column is used for optimistic locking via application code.
	"create_user" varchar(64)	 NOT NULL,    -- CREATE_USER is an audit column that indicates the user that created the record.
	"create_date" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP,    -- CREATE_DATE is the date and time the row of data was created.
	"update_user" varchar(64)	 NOT NULL,    -- UPDATE_USER is an audit column that indicates the user that updated the record.
	"update_date" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP    -- UPDATE_DATE is the date and time the row of data was updated.
)
TABLESPACE	PG_DEFAULT
;

/* Create Table Comments, Sequences for Autonumber Columns */

COMMENT ON TABLE "wfprev"."eval_criteria_selected"
	IS 'Evaluation Criteria Selected is used to track whether evaluation criteria is selected or not for a evaluation criteria project summary'
;

COMMENT ON COLUMN "wfprev"."eval_criteria_selected"."eval_criteria_selected_guid"
	IS 'eval_criteria_selected_guid is a unique identifier for the record.'
;

COMMENT ON COLUMN "wfprev"."eval_criteria_selected"."evaluation_criteria_guid"
	IS 'evaluation_criteria_guid: Is a foreign key to evaluation_criteria: '
;

COMMENT ON COLUMN "wfprev"."eval_criteria_selected"."eval_criteria_sect_summ_guid"
	IS 'eval_criteria_sect_summ_guid: Is a foreign key to eval_criteria_sect_summ: Evaluation Criteria Section Summary is a summary of details for a evaluation criteria section, such as the total scores for the section.'
;

COMMENT ON COLUMN "wfprev"."eval_criteria_selected"."evaluation_criteria_select_ind"
	IS 'Evaluation Criteria Selected Ind indicates whether the criteria mapped to the project evaluation criteria is selected (Y) or not (N).  If true then the weighted rank of the criteria will count against the filter score.  If false then a value of 0 will be counted against the filter score.'
;

COMMENT ON COLUMN "wfprev"."eval_criteria_selected"."revision_count"
	IS 'REVISION_COUNT is the number of times that the row of data has been changed. The column is used for optimistic locking via application code.'
;

COMMENT ON COLUMN "wfprev"."eval_criteria_selected"."create_user"
	IS 'CREATE_USER is an audit column that indicates the user that created the record.'
;

COMMENT ON COLUMN "wfprev"."eval_criteria_selected"."create_date"
	IS 'CREATE_DATE is the date and time the row of data was created.'
;

COMMENT ON COLUMN "wfprev"."eval_criteria_selected"."update_user"
	IS 'UPDATE_USER is an audit column that indicates the user that updated the record.'
;

COMMENT ON COLUMN "wfprev"."eval_criteria_selected"."update_date"
	IS 'UPDATE_DATE is the date and time the row of data was updated.'
;

/* Create Primary Keys, Indexes, Uniques, Checks */

ALTER TABLE "wfprev"."eval_criteria_selected" ADD CONSTRAINT "ecsel_pk"
	PRIMARY KEY ("eval_criteria_selected_guid")
;

ALTER TABLE "wfprev"."eval_criteria_selected" ADD CONSTRAINT "ecsel_uk" UNIQUE ("evaluation_criteria_guid","eval_criteria_sect_summ_guid")
;

CREATE INDEX "ecsel_evcrit_idx" ON "wfprev"."eval_criteria_selected" ("evaluation_criteria_guid" ASC)
;

CREATE INDEX "ecsel_ecsum_idx" ON "wfprev"."eval_criteria_selected" ("eval_criteria_sect_summ_guid" ASC)
;

/* Create Foreign Key Constraints */

ALTER TABLE "wfprev"."eval_criteria_selected" ADD CONSTRAINT "ecsel_evcrit_fk"
	FOREIGN KEY ("evaluation_criteria_guid") REFERENCES "wfprev"."evaluation_criteria" ("evaluation_criteria_guid") ON DELETE No Action ON UPDATE No Action
;

ALTER TABLE "wfprev"."eval_criteria_selected" ADD CONSTRAINT "ecsel_ecsum_fk"
	FOREIGN KEY ("eval_criteria_sect_summ_guid") REFERENCES "wfprev"."eval_criteria_sect_summ" ("eval_criteria_sect_summ_guid") ON DELETE No Action ON UPDATE No Action
;